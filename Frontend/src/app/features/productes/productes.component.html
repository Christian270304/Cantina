<div class="central">
    <div class="central-content">
        <nav>
            <ul>
                <li><a [routerLink]="[]" fragment="begudes">ü•§ Begudes</a></li>
                <li><a [routerLink]="[]" fragment="entrepans">ü•™ Entrepans</a></li>
                <li><a [routerLink]="[]" fragment="per-picar">üçü Per picar</a></li>
                <li><a [routerLink]="[]" fragment="fruita">üçé Fruita</a></li>
                <li><a [routerLink]="[]" fragment="menu">üçΩÔ∏è Men√∫</a></li>
                <li><a [routerLink]="[]" fragment="especials">üçï Especials</a></li>
            </ul>
        </nav>
        <main>
            <section class="items" id="begudes">
                <h2>ü•§ Begudes</h2>
                <div class="llista-productes">
                    @for (producte of productes[0]; track producte.id ) {
                        @if (producte.categoria === 'begudes') {
                            <div class="producte" (click)="producte.disponible && agregarAlCarrito(producte)" [ngClass]="{'': producte.disponible, 'esgotat': !producte.disponible}">
                            <h3>{{ producte.nom }}</h3>
                            <p class="preu">{{ producte.preu | currency }}</p>
                        </div>
                        }
                    }
                </div>
            </section>
            <section class="items" id="entrepans">
                <h2>ü•™ Entrepans</h2>
                <div class="llista-productes">
                    @for (producte of productes[0]; track producte.id ) {
                        @if (producte.categoria === 'entrepans') {
                            <div class="producte" (click)="producte.disponible && agregarAlCarrito(producte)" [ngClass]="{'': producte.disponible, 'esgotat': !producte.disponible}">
                            <h3>{{ producte.nom }}</h3>
                            <p class="preu">{{ producte.preu | currency }}</p>
                        </div>
                        }
                    }
                </div>
            </section>
            <section class="items" id="per-picar">
                <h2>üçü Per picar</h2>
                <div class="llista-productes">
                    @for (producte of productes[0]; track producte.id ) {
                        @if (producte.categoria === 'per-picar') {
                            <div class="producte" (click)="producte.disponible && agregarAlCarrito(producte)" [ngClass]="{'': producte.disponible, 'esgotat': !producte.disponible}">
                            <h3>{{ producte.nom }}</h3>
                            <p class="preu">{{ producte.preu | currency }}</p>
                        </div>
                        }
                    }
                </div>
            </section>
            <section class="items" id="fruita">
                <h2>üçé Fruita</h2>
                <div class="llista-productes">
                    @for (producte of productes[0]; track producte.id ) {
                        @if (producte.categoria === 'fruita') {
                            <div class="producte" (click)="producte.disponible && agregarAlCarrito(producte)" [ngClass]="{'': producte.disponible, 'esgotat': !producte.disponible}">
                            <h3>{{ producte.nom }}</h3>
                            <p class="preu">{{ producte.preu | currency }}</p>
                        </div>
                        }
                    }
                </div>
            </section>
            <section class="items" id="menu">
                <h2>üçΩÔ∏è Men√∫</h2>
                <div class="llista-productes">
                    @for (producte of productes[0]; track producte.id ) {
                        @if (producte.categoria === 'menu') {
                            <div class="producte" (click)="producte.disponible && agregarAlCarrito(producte)" [ngClass]="{'': producte.disponible, 'esgotat': !producte.disponible}">
                            <h3>{{ producte.nom }}</h3>
                            <p class="preu">{{ producte.preu | currency }}</p>
                        </div>
                        }
                    }
                </div>
            </section>
            <section class="items" id="especials">
                <h2>üçï Especials</h2>
                <div class="llista-productes">
                    @for (producte of productes[0]; track producte.id ) {
                        @if (producte.categoria === 'especials') {
                            <div class="producte" (click)="producte.disponible && agregarAlCarrito(producte)" [ngClass]="{'': producte.disponible, 'esgotat': !producte.disponible}">
                            <h3>{{ producte.nom }}</h3>
                            <p class="preu">{{ producte.preu | currency }}</p>
                        </div>
                        }
                    }
                </div>
            </section>
        </main>
    </div>
</div>
<div id="carrito" class="carrito-lateral" [class.abierto]="carritoAbierto">
    <button class="btn-tancar" (click)="closeCart()">‚úñ</button>
    <h3>üõí El teu carret</h3>
    <ul id="carrito-lista"> 
        <li *ngFor="let item of carrito">
        <span class="carrito-nom">{{ item.nom }} x 
        <button (click)="restarUnidad(item)" [disabled]="item.unitats <= 1">-</button> 
        {{ item.unitats }} 
        <button (click)="sumarUnidad(item)">+</button>
        <button class="btn-eliminar" (click)="eliminarItem(item)">‚úñ</button></span>
        <span class="carrito-preu">{{ (item.preu * item.unitats) | number:'1.2-2' }}‚Ç¨</span>
        </li>
    </ul>
    <div id="carrito-total">
        Total: {{ getTotal() | number:'1.2-2' }}‚Ç¨
        @if (carrito.length > 0) {
            <button class="btn-pagar">pagar</button>
        }
    </div>
</div>

